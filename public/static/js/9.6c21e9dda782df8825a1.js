webpackJsonp([9],{Gr56:function(e,t){},L4xr:function(e,t){},nzOd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("Dd8w"),o=a.n(l),r=a("2bvH"),s={data:function(){return{tableData:[],paginationShow:!0,pageTotal:1,pageNum:1,noData:!0}},computed:o()({},Object(r.b)({orgId:"orgId",authEdit:"authEdit",searchPeople:"searchPeople"})),watch:{orgId:function(){this.getPeopleList(this.orgId.orgId,this.pageNum)},searchPeople:function(){this.tableData=[],this.pageTotal=this.searchPeople.length;for(var e=0,t=this.searchPeople.length;e<t;e++)this.tableData.push({userId:this.searchPeople[e].userId,name:this.searchPeople[e].name,orgId:this.searchPeople[e].orgId,userNum:this.searchPeople[e].userNum,deptName:this.searchPeople[e].eName})}},methods:{getPeopleList:function(e,t){var a=this,l=new URLSearchParams;l.append("orgId",e),l.append("isEnable",1),l.append("isDeleted",0),l.append("secretLevel",0),l.append("pageNum",t),l.append("pageSize",10),this.$post(this.url+"/xhHlckTwo/getSysUser",l).then(function(e){if(200==e.code){a.tableData=[];var t=JSON.parse(e.data),l=JSON.parse(e.data).list;if(a.pageTotal=t.total,0==l.length)return a.tableData=[],void(a.noData=!0);a.noData=!1;for(var o=0,r=l.length;o<r;o++)a.tableData.push({userId:l[o].userId,name:l[o].name,orgId:l[o].orgId,userNum:l[o].userNum,deptName:l[o].eName})}else a.$message.error("新增失败")})},handleEdit:function(e,t,a,l){this.$store.commit("AUTHEDIT",{authEdit:!0}),this.$store.commit("AUTHEUSER",{userId:e,name:t,orgId:a,deptName:l})},handleDelete:function(e,t){console.log(e,t)},handleCurrentChange:function(e){this.pageNum=e,this.getPeopleList(this.orgId.orgId,e)}},components:{}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tableData"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"被查次数"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"top"}},[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.userNum))])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"平均时间间隔"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"top"}},[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.deptName))])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"登记人"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"top"}},[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.deptName))])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.row.userId,t.row.name,t.row.orgId,t.row.deptName)}}},[e._v("授权\n          ")])]}}])})],1),e._v(" "),e.paginationShow?a("el-pagination",{staticClass:"pagination",attrs:{background:"",layout:"prev, pager, next",total:e.pageTotal},on:{"current-change":e.handleCurrentChange}}):e._e()],1)},staticRenderFns:[]};var i={data:function(){return{dialogFormVisible:!1,userName:"",form:{}}},components:{tableData:a("VU/8")(s,n,!1,function(e){a("Gr56")},"data-v-6d2f115c",null).exports},methods:{toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},searchPeople:function(){console.log(this.userName)},blacklistManage:function(){this.dialogFormVisible=!1,console.log(this.form.timeInterval)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"blacklist"},[e._m(0),e._v(" "),a("div",{staticClass:"blacklistBody"},[a("div",{staticClass:"manageTop"},[a("el-input",{attrs:{placeholder:"请输入人员名字"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchPeople}},[e._v("搜索")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("黑名单设置")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("导出excel")])],1),e._v(" "),a("tableData")],1),e._v(" "),a("el-dialog",{attrs:{title:"黑名单设置",visible:e.dialogFormVisible,"modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"被查次数"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.frequency,callback:function(t){e.$set(e.form,"frequency",t)},expression:"form.frequency"}},[a("el-option",{attrs:{label:"1",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"2",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"时间间隔"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.timeInterval,callback:function(t){e.$set(e.form,"timeInterval",t)},expression:"form.timeInterval"}},[a("el-option",{attrs:{label:"5小时",value:"5"}}),e._v(" "),a("el-option",{attrs:{label:"10小时",value:"10"}}),e._v(" "),a("el-option",{attrs:{label:"15小时",value:"15"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.blacklistManage}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"blacklistTitle"},[t("p",[this._v("黑名单管理")])])}]};var u=a("VU/8")(i,c,!1,function(e){a("L4xr")},"data-v-435c0ffe",null);t.default=u.exports}});